@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design system: Datametrics Department — basato su logo (blu #007BFF, bianco, nero) */
:root {
  /* Backgrounds */
  --dm-bg: #000000;
  --dm-surface: #0f0f0f;
  --dm-card: #171717;
  --dm-elevated: #1f1f1f;

  /* Borders */
  --dm-border: #262626;
  --dm-border-focus: #007bff;

  /* Text */
  --dm-text: #ffffff;
  --dm-text-muted: #a3a3a3;
  --dm-text-subtle: #737373;

  /* Accent (logo blue) */
  --dm-accent: #007bff;
  --dm-accent-hover: #3395ff;
  --dm-accent-muted: rgba(0, 123, 255, 0.15);
  --dm-accent-muted-hover: rgba(0, 123, 255, 0.25);

  /* Feedback */
  --dm-error: #ef4444;
  --dm-error-bg: rgba(239, 68, 68, 0.12);
  --dm-success: #22c55e;
}

@layer base {
  html {
    @apply antialiased;
  }

  body {
    background-color: var(--dm-bg);
    color: var(--dm-text);
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }

  /* Contrasto WCAG-friendly per testo su sfondo scuro */
  h1, h2, h3, h4, h5, h6 {
    color: var(--dm-text);
  }

}

@layer components {
  .dm-input {
    @apply w-full rounded-md border bg-[var(--dm-card)] px-3 py-2 text-[var(--dm-text)]
      placeholder-[var(--dm-text-subtle)]
      focus:border-[var(--dm-border-focus)] focus:outline-none focus:ring-1 focus:ring-[var(--dm-border-focus)]
      transition-colors;
    border-color: var(--dm-border);
  }

  .dm-btn-primary {
    @apply rounded-md px-4 py-2 font-medium transition-colors
      focus:outline-none focus:ring-2 focus:ring-[var(--dm-accent)] focus:ring-offset-2 focus:ring-offset-[var(--dm-bg)];
    background-color: var(--dm-accent);
    color: white;
  }
  .dm-btn-primary:hover:not(:disabled) {
    background-color: var(--dm-accent-hover);
  }

  .dm-card {
    background-color: var(--dm-card);
    border: 1px solid var(--dm-border);
    @apply rounded-lg;
  }
}

/* Date/time inputs: fuori da layer per vincere sui default del browser */
input[type="date"],
input[type="time"],
input[type="datetime-local"] {
  background-color: var(--dm-card) !important;
  color: var(--dm-text) !important;
  color-scheme: dark;
}

/* Chrome/Safari/Edge: il valore della data è in pseudo-elementi, va colorato esplicitamente */
input[type="date"]::-webkit-datetime-edit,
input[type="date"]::-webkit-datetime-edit-fields-wrapper,
input[type="date"]::-webkit-datetime-edit-text,
input[type="date"]::-webkit-datetime-edit-month-field,
input[type="date"]::-webkit-datetime-edit-day-field,
input[type="date"]::-webkit-datetime-edit-year-field,
input[type="time"]::-webkit-datetime-edit,
input[type="datetime-local"]::-webkit-datetime-edit {
  color: var(--dm-text) !important;
}
